---
title: Authentication flow
---

Mist follows a traditional OIDC redirect flow, with the exception that no third party is needed to verify the user's identity.

```mermaid
%%{
  init: {
    'themeVariables': {
      'lineColor': '#94a3b8'
    }
  }
}%%

flowchart TD
  subgraph Service
    SRedirect[Redirect user]
    SReceive[Receive VCs]
    SUser[Create user]
    SRespond[Send VCs]
    SDone[User logged in]
  end

  subgraph Mist
    MSession[Create session]
    MOIDC[Generate auth request URL]
    MQR[Render URL as QR Code]
    MVerify[Verify identity with DID]
    MUser[Create user]
    MUpdateSession[Update session]
    MRedirect[Redirect user]
  end

  subgraph User
    UScan[Scan]
  end

  subgraph App["External App"]
    ARespond[Send auth response]
  end

  SRedirect --> MSession
  MSession --> MOIDC
  MOIDC --> MQR
  MQR --> UScan
  UScan --> ARespond
  ARespond --> MVerify
  MVerify --> SReceive
  SReceive --> SUser
  SUser --> SRespond
  SRespond --> MUser
  MUser --> MUpdateSession
  MUpdateSession --> MRedirect
  MRedirect --> SDone

  classDef node fill:#f1f5f9,stroke:#020617;
  classDef user fill:#a5f3fc,stroke:#020617;
  classDef app fill:#f8fafc,stroke:#020617;
  classDef mist fill:#c7d2fe,stroke:#020617;
  classDef service fill:#bbf7d0,stroke:#020617;

  class User user;
  class App app;
  class Mist mist;
  class Service service;
```
